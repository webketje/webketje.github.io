<!DOCTYPE html>
<html lang="en">
	<head>
			<meta charset="utf-8">
	<title>Theme development with GS Custom Settings | webketje</title>
	<link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
	<link rel="stylesheet" type="text/css" href="/assets/fonts/font-awesome-4.1.0/css/font-awesome.min.css" type="text/css">
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css">
	<!-- Google Webfonts -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css">
	<link href='http://fonts.googleapis.com/css?family=Droid+Serif' rel='stylesheet' type='text/css'>
	<!-- JS libraries -->
	<script src="https://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
	<!-- <script src="assets/js/lib/modernizr-2.8.2/modernizr.js" type="text/javascript"></script> -->
	<!-- meta -->
	<meta name="description" content="This article gives tips about how to use GS Custom Settings to its full extent for theme development.">
	<meta name="keywords" content="GetSimplePHPplugintheme">
	<meta name="author" content="Kevin Van Lierde">
	<!-- favicon -->
	<link rel="shortcut icon" type="image/png" href="/favicon.png"/>
	<link rel="shortcut icon" type="image/png" href="http://webketje.github.io/favicon.png"/>
		<!-- Twitter tags -->
		<meta name="twitter:card" content="summary">
		<meta name="twitter:description" content="This article gives tips about how to use GS Custom Settings to its full extent for theme development, and includes advice, 
tips, and multiple use cases for augmenting your theme and offering customization to your theme users, thereby also augmenting your theme's value.
">
		<meta name="twitter:title" content="Theme development with GS Custom Settings">
		<meta name="twitter:url" content="http://webketje.github.io//cms/2015/04/25/theme-development-with-gs-custom-settings/">
		<meta name="twitter:site" content="'t Webketje">
		<!-- FB OpenGraph tags -->
		<meta name="og:sitename" content="'t Webketje">
		<meta name="og:description" content="This article gives tips about how to use GS Custom Settings to its full extent for theme development, and includes advice, 
tips, and multiple use cases for augmenting your theme and offering customization to your theme users, thereby also augmenting your theme's value.
">
		<meta name="og:title" content="Theme development with GS Custom Settings">
		<meta name="og:url" content="/cms/2015/04/25/theme-development-with-gs-custom-settings/">
		<meta name="og:image" content="">
	</head>
	<body class="blog-post">
		<div id="fb-root"></div>
		<script>
		(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
		</script>
		<div id="wrapper">
		<header id="site-header">
	<figure id="profile-picture">
		<img src="/assets/img/kevin-van-lierde.png" alt="Kevin Van Lierde's profile picture">
	</figure>
	<div>
		<h2 id="site-title">'t Webketje</h2>
		<nav id="site-nav">
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/">Blog</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/projects/">Projects</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/work/">Work</a> /
			 
			
			
			
			
			
			
			
			
			<a href="/about/">About</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/contact/">Contact</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		</nav>
	</div>
	<nav id="site-social-media">
		<p>Get in touch:<img src="/assets/img/arrow.png" alt="arrow down"></p>
		<a href="http://twitter.com/Tyblitz" 	title="Twitter"><i class="fa fa-twitter"></i></a>
		<a href="http://linkedin.com/kevinvanlierde" 	title="Linkedin"><i class="fa fa-linkedin"></i></a>
		<a href="http://plus.google.com/+KevinVanLierde" title="Google Plus"><i class="fa fa-google-plus"></i></a>
		<a href="http://stackoverflow.com/users/1938203/tyblitz" title="StackOverflow"><i class="fa fa-stack-overflow"></i></a>
		<a href="#kevin.van.lierde@gmail.com" 	title="E-mail: kevin.van.lierde@gmail.com"><i class="fa fa-envelope"></i></a>
	</nav>
</header>
		<div id="main">
			<article itemscope="" itemtype="http://schema.org/BlogPosting" class="list-item post">
				<figure id="coffee-cup">
					<img src="/assets/img/coffee-cup4.png" alt="A drawing of a delicious coffee cup by lineandwash.blogspot.be">
					<figcaption><small>Drawing of a delicious coffee cup by <cite><a href="http://lineandwash.blogspot.be">LineAndWash.blogspot.be</a></cite></small></figcaption>
				</figure>
				<section itemprop="articleBody">
					<header>
						<h1 id="page-title">Theme development with GS Custom Settings</h1>
						<div class="post-meta">
							In <a class="post-category" href="/categories/?cat=CMS">CMS</a> | 
							<time datetime="25 April 2015">
								<span class="post-day">25</span>
								<span class="post-month">April</span>
								<span class="post-year">2015</span>
							</time>
						</div>
						<!-- Go to www.addthis.com/dashboard to customize your tools -->
						<div class="addthis_native_toolbox"></div>
						<hr>
						
							<p itemprop="description">This article gives tips about how to use GS Custom Settings to its full extent for theme development, and includes advice, 
tips, and multiple use cases for augmenting your theme and offering customization to your theme users, thereby also augmenting your theme's value.
</p>
						
					</header>
					<p>This tutorial will focus on how to integrate GS Custom Settings in theme development, if you need to get familiar with regular GetSimple theming, read <a href="http://get-simple.info/wiki/themes:creation">the tutorial</a> in the wiki. It's also handy to keep a browser tab open on the <a href="http://get-simple.info/wiki/themes:template_tags">complete template tags reference</a>. </p>
<h3>Contents</h3>
<ol>
<li>
<a href="#preface">Preface</a>
<ol>
<li><a href="#best-practices">Best practices</a></li>
<li><a href="#php-you-should-know">Some PHP you should know</a></li>
<li><a href="#considering-theme-variables">Considering the theme variables</a></li>
</ol>
</li>
<li>
<a href="#basic">Basic</a>
<ol>
<li><a href="#outputting-text-and-html-content">Output: text and HTML content</a></li>
<li><a href="#show-hiding-content">Output: Show-/hiding content</a></li>
<li><a href="#allowing-custom-css">Styling: Allowing custom CSS</a></li>
<li><a href="#tweak-fonts-and-colors">Styling: Tweakable fonts and colors</a></li>
<li><a href="#multiple-options">Styling: Multiple options</a></li>
<li><a href="#theme-and-author-data">Meta: Setting theme &amp; author data</a></li>
</ol>
</li>
<li>
<a href="#intermediate">Intermediate</a>
<ol>
<li><a href="#google-web-fonts">Styling: Google web fonts</a></li>
<li><a href="#third-party-embeds">Output: third party embeds</a></li>
<li><a href="#third-party-services">Data: Enabling third party services</a></li>
<li><a href="#social-media-links">Output: social media icon links collection</a></li>
<li><a href="#key-value-pairs">Meta: date format - hidden settings for key-value pairs</a></li>
</ol>
</li>
<li>
<a href="#advanced">Advanced (coming soon)</a>
</li>
</ol>
<h3>Preface</h3>
<h4>Best practices</h4>
<h5>Themes with GS Custom Settings</h5>
<p>If you use GS Custom Settings for a theme, make sure to mention in the theme description in the <a href="http://get-simple.info/extend/">GS Extend repo</a> that your theme <em>requires</em> installing the Custom settings plugin first, or wrap the entire HTML in an <code>if</code> clause, and output a message <em>'This theme requires GS Custom Settings to work'</em>, else you will get a lot of <em>undefined function</em> errors. Here's a sample snippet that you can directly copy paste in your theme's Extend description:</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">This theme requires [GS Custom Settings](http://get-simple.info/extend/plugin/gs-custom-settings/913/).</span></code></pre></div> <p>and one for in the forum threads:</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">This theme requires [url=http://get-simple.info/extend/plugin/gs-custom-settings/913/]GS Custom Settings[/url].</span></code></pre></div>
<h5>Empty text settings</h5>
<p>Often you need to check whether a setting is valid. When the only check you need is whether a text setting is empty, you can avoid creating a checkbox to 'enable' the setting (eg. a social media link) by  checking the string length of the setting's value. When it is an empty string, its length is 0, so PHP will evaluate to <code>false</code> when you call <code>return_setting('theme', 'myTextSetting')</code>. In the setting's description, simply write something like <em>&quot;Leave empty to disable&quot;</em>. For example, the <code>text</code> setting <code>social_fb</code> could be outputted as follows:</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;social_fb&#39;</span><span class="p">))</span>
   <span class="k">echo</span> <span class="s1">&#39;&lt;a href=&quot;&#39;</span> <span class="o">.</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;social_fb&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;&gt;&lt;i class=&quot;fa fa-facebook&#39;</span><span class="o">&gt;&lt;/</span><span class="nx">i</span><span class="o">&gt;&lt;/</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>
<h5>Using <code>for</code> loops</h5>
<p>If you're using setting output in PHP <code>for</code> or <code>foreach</code> loops, it is wisest to put them in a PHP variable before the loop. Although calls to <code>return/get_setting</code> are not very expensive, it does save some performance.</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nv">$show_img</span> <span class="o">=</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;blog_show_img&#39;</span><span class="p">);</span> 
 <span class="k">foreach</span> <span class="p">(</span><span class="nv">$items</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
 <span class="k">echo</span> <span class="s1">&#39;&lt;div class=&quot;post&quot;&gt;&#39;</span> <span class="o">.</span> <span class="p">(</span><span class="nv">$show_img</span> <span class="o">?</span> <span class="s1">&#39;&lt;img src=&quot;&quot;&gt;&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>
<h5>Easily accessing a group of settings</h5>
<p>If you need to access many settings (more than 5) in one particular place in your theme, <em>from v0.4 onwards</em> you can use <code>return_setting_group</code> to return an entire group of settings as a PHP array. For the function to work, you should prefix the setting lookups with a common name, followed by an underscore (<code>_</code>); eg. for all profile-related settings, you could have: <code>profile_h</code> for the headline, <code>profile_desc</code> for the description and <code>profile_name</code> for the name. You can then access the returned settings <em>without the prefix</em>. In PHP you could simply do: </p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nv">$profile</span> <span class="o">=</span> <span class="nx">return_setting_group</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;profile&#39;</span><span class="p">);</span> 
 <span class="k">echo</span> <span class="s1">&#39;&lt;h1&gt;&#39;</span> <span class="o">.</span> <span class="nv">$profile</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&lt;h1&gt;&#39;</span><span class="p">;</span>
 <span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;&#39;</span> <span class="o">.</span> <span class="nv">$profile</span><span class="p">[</span><span class="s1">&#39;h&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&lt;/h3&gt;&#39;</span><span class="p">;</span>
 <span class="k">echo</span> <span class="s1">&#39;&lt;p&gt;&#39;</span> <span class="o">.</span> <span class="nv">$profile</span><span class="p">[</span><span class="s1">&#39;desc&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&lt;/p&gt;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<h4>Some PHP you should know</h4>
<p>As soon as you need to do some more advanced stuff (like in the sections Intermediate and Advanced), you will sometimes need to pre-process the output of a setting. In that case, some of the most useful PHP functions to know are:</p>
<ul>
<li><code>echo($string)</code> - Outputs the given string.</li>
<li><code>strip_tags($string)</code> - Removes HTML tags from the string.Handy for example if you want to use HTML in the profile description on the page, and use the same setting for social media/ meta descriptions but without HTML.</li>
<li><code>explode($delimiter, $string)</code> - Splits a string into an array on <code>$delimiter</code>. Useful if you want to re-use and pre-process settings with options or fixed formats.</li>
<li><code>str_replace($search, $replacement, $string)</code></li>
<li><code>strlen($string)</code> - Returns the length of a string. Useful for checking purposes.</li>
<li><code>date($format[, $timestamp])</code> - Returns a date in the specified <code>$format</code>. Useful for blog posts/ footer copyright/ event dates.</li>
<li><code>substr($string, $start, $length)</code> - Subtracts a part of a string starting at <code>$start</code> and ending at <code>$start + $length</code>. Useful for eg. post excerpts</li>
</ul>
<h4>Considering the theme <em>variables</em></h4>
<p>First we need to consider which settings will be adjustable in the template. For inspiration, you could have a look at <a href="http://scaffold.tumblr.com/options/">Tumblr theme options</a>, ThemeForest Wordpress' <a href="http://i.imgur.com/1kEkKAu.png">Select options</a>, or even <a href="http://2.bp.blogspot.com/-5o8ExgEBbVk/TzYiXNXleDI/AAAAAAAAFig/38Mcn18TVog/s1600/Change%2Bpost%2Btitle%2Bcolor%2Bin%2BBlogger%2Btemplates.png">Blogger template options</a>. Generally, you will want to provide settings in three four different sections: </p>
<ol>
<li><strong>Styling</strong>: Providing users the ability to modify theme colors, fonts and other styles without having to dig into your template, and with the option to change them over time.</li>
<li><strong>Output</strong>: Providing users the ability to place content in fixed theme positions   (like footer content, contact details, etc.) without having to dig into your template.</li>
<li><strong>Data</strong>: Providing users the ability to include/ turn off certain parts of the template, like a social media widget, or whether or not to show the author name under blog posts.</li>
<li><strong>Meta-settings</strong>: Primarily meant for you, the developer, and usually set to <code>locked</code>/<code>hidden</code> in the interface, to facilitate version checking, include credits and links, and fixed information.</li>
</ol>
<p><a name="basic"></a></p>
<h3>Basic</h3>
<p><a name="outputting-text-and-html-content"></a></p>
<h4>Outputting text and HTML content</h4>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Name</td>
    <td><code>contact_name</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Email</td>
    <td><code>contact_email</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Address</td>
    <td><code>contact_address</code></td>
    <td><code>textarea</code></td>
  </tr>
  <tr>
    <td>Fax/ Phone</td>
    <td><code>contact_phone</code></td>
    <td><code>textarea</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>Outputting content is the most basic functionality of GS Custom Settings. In the example below we output the values of the settings <code>email</code>, <code>phone</code> and <code>address</code> to the <code>contact.php</code> template. The settings are preceded by a FontAwesome icon. Note that if you want <code>textarea</code> settings to preserve multiple lines, you will have to set the CSS <code>white-space</code> property to <code>pre/ pre-wrap/ pre-line</code>.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="o">&lt;</span><span class="nx">address</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="nx">p</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;white-space: pre;&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">i</span> <span class="nx">class</span><span class="o">=</span><span class="s2">&quot;fa fa-fw fa-lg fa-map-marker&quot;</span><span class="o">&gt;&lt;/</span><span class="nx">i</span><span class="o">&gt;&lt;?</span><span class="nx">php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;contact_address&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;/p&gt;&lt;/div&gt;</span>
<span class="x">  &lt;div&gt;&lt;p&gt;</span>
<span class="x">    &lt;i class=&quot;fa fa-fw fa-lg fa-at&quot;&gt;&lt;/i&gt;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;contact_email&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;/p&gt;&lt;/div&gt;</span>
<span class="x">  &lt;div&gt;&lt;p style=&quot;white-space: pre;&quot;&gt;</span>
<span class="x">    &lt;i class=&quot;fa fa-fw fa-lg fa-phone&quot;&gt;&lt;/i&gt;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;contact_phone&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;/p&gt;&lt;/div&gt;</span>
<span class="x">&lt;/address&gt;</span></code></pre></div>

<p>Another popular example is outputting a copyright notice in the theme footer:</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;footer id=&quot;site-footer&quot;&gt;&amp;copy;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">);</span><span class="cp">?&gt;</span><span class="x"> </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;contact_name&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/footer&gt;</span></code></pre></div>
<p>You may also want to let the user decide which HTML content should be outputted, for example to <strong>highlight</strong> a part of the phrase, or to customize, eg sidebar widget content. The <code>textarea</code> or <code>text</code> settings may contain HTML. As such, if you had a  <code>textarea</code> setting <code>sidebar_html</code>, you could do the following:</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;aside&gt;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;sidebar_html&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/aside&gt;</span></code></pre></div>
<p><a name="show-hiding-content"></a></p>
<h4>Show-/hiding content</h4>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Show title on blog page?</td>
    <td><code>blog_show_title</code></td>
    <td><code>checkbox</code></td>
  </tr>
  <tr>
    <td>Profile image</td>
    <td><code>profile_img</code></td>
    <td><code>image</code></td>
  </tr>
  <tr>
    <td>Lead paragraph</td>
    <td><code>profile_desc</code></td>
    <td><code>textarea</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>Conditionally showing content is pretty easy, the checkbox setting will either return <code>true</code> or <code>false</code>. The snippet below shows/hides the title of pages using the template <code>blog.php</code>. Useful as you would usually not display the title when the blog is also the homepage. </p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;blog_show_title&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;h1&gt;</span><span class="cp">&lt;?php</span> <span class="nx">get_page_title</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>You may also want to hide output when a <code>textarea/text/image</code> setting is <em>not set</em> (when the value is an empty string). 
If the setting has no container element, you can simply call <code>get_setting</code> and an empty string will be outputted (<em>note: with v0.3 the image setting will return an image with a broken link if you do this</em>).</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;profile_desc&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;profile_img&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>If the setting output does have a container element, you need to check whether it is non-empty with <code>return_setting</code>:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;profile_img&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;div id=&quot;profile-img&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;profile_img&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;div&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p><a name="allowing-custom-css"></a></p>
<h4>Styling: allowing custom CSS</h4>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Custom CSS</td>
    <td><code>css_custom</code></td>
    <td><code>textarea</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>Custom CSS is the easiest way to provide users a way to change the visual style without touching the template, but of course it requires them to go look for classes and id's in the browser, and at least have a basic understanding of CSS, so not very user-friendly. You should output this setting <em>at the end of your dynamic CSS</em>, so that if the user makes a syntax error nothing else gets lost. </p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;style&gt;</span>
<span class="x"> /* other style rules */</span>
<span class="x"> </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;custom_css&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/style&gt;</span></code></pre></div>

<p><a name="tweak-fonts-and-colors"></a></p>
<h4>Styling: Tweakable fonts and colors</h4>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Theme color 1</td>
    <td><code>css_pri_color</code></td>
    <td><code>color</code></td>
  </tr>
  <tr>
    <td>Theme color 2</td>
    <td><code>css_sec_color</code></td>
    <td><code>color</code></td>
  </tr>
  <tr>
    <td>Headings font</td>
    <td><code>css_hfont</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Headings text color</td>
    <td><code>css_hcolor</code></td>
    <td><code>color</code></td>
  </tr>
  <tr>
    <td>Body font</td>
    <td><code>css_pfont</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Body text color</td>
    <td><code>css_pcolor</code></td>
    <td><code>color</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>The colors take any valid CSS colors (color name, HEX, RGB, HSL or RGBA). You would keep all fixed CSS in a separate stylesheet <code>style.css</code>, and include the changeable CSS in your <code>header.inc.php</code> or <code>dynamic_css.inc.php</code> or something alike in a <code>&lt;style&gt;</code> tag. Below is an example of how you would output dynamic styling options into your theme: </p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;style&gt;</span>
<span class="x">  h1,h2,h3,h4,h5,h6, #site-nav a {</span>
<span class="x">    color: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_hcolor&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">    font-family: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_hfont&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">  }</span>
<span class="x">  body, body p, body ul, body ol, body blockquote { </span>
<span class="x">    color: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pcolor&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">    font-family: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pfont&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">  }</span>
<span class="x">  #profile-social a, #blog-roll .tags li a, .tags li div {</span>
<span class="x">    background-color:  </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pri_color&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">;</span>
<span class="x">  }</span>
<span class="x">  #profile-social a:hover, #profile-social a:active { </span>
<span class="x">    background-color:  </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_sec_color&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">  }</span>
<span class="x">  a, a:link, a:visited, #site-nav a, #site-nav a:visited, #blog-roll h3 a  { </span>
<span class="x">    color: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pri_color&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">;  </span>
<span class="x">  }</span>
<span class="x">  a:active, a:hover, #site-nav a:hover, #site-nav a:active, </span>
<span class="x">  #blog-roll h3 a:hover, #blog-roll h3 a:active { </span>
<span class="x">    color: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_sec_color&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">  }</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;custom_css&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/style&gt;</span></code></pre></div>

<p><a name="multiple-options"></a></p>
<h4>Styling: multiple options</h4>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Theme style</td>
    <td><code>css_theme</code></td>
    <td><code>radio</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>You can provide customization through fixed options, with the <code>radio</code> or <code>select</code> type.
The <code>radio</code> setting <code>css_theme</code> has 3 options: square, rounded or circle. In our <code>style.css</code> stylesheet, the following rules could be defined (none for square, that is default): </p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.circle</span> <span class="nf">#profile-image</span> <span class="nt">img</span><span class="o">,</span> <span class="nc">.circle</span> <span class="nf">#profile-social</span> <span class="nt">a</span> <span class="p">{</span> 
  <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.rounded</span> <span class="nf">#profile-image</span> <span class="nt">img</span><span class="o">,</span> <span class="nc">.rounded</span> <span class="nf">#profile-social</span> <span class="nt">a</span><span class="o">,</span> <span class="nc">.rounded</span> <span class="nc">.post-meta</span> <span class="nt">img</span><span class="o">,</span> <span class="nf">#main</span> <span class="nt">img</span> <span class="p">{</span> 
  <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>In the theme we set a variable class on the <code>&lt;body&gt;</code> tag:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;body class=&quot;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_theme&#39;</span><span class="p">);</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span></code></pre></div>

<p>Similarly, if you had a setting <code>profile_img_size</code> with 3 options: small, normal, big; you could set the size of the profile image only:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;style&gt;</span>
<span class="x">  #profile-image.big img { height: 160px;}</span>
<span class="x">  #profile-image.normal img, #profile-image img { height: 128px;}</span>
<span class="x">  #profile-image.small img { height: 96px; }</span>
<span class="x">&lt;/style&gt;</span>
<span class="x">&lt;div class=&quot;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;profile_img_size&#39;</span><span class="p">);</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;&lt;img src=&quot;/my/image.jpeg&quot;&gt;&lt;/div&gt;</span></code></pre></div>

<h3>Styling options</h3>
<p>For our theme we have a total of 8 styling options. The font <code>&lt;select&gt;</code>'s offer a choice between +- 20 different fonts, including a couple from Google fonts. <strong>Custom CSS</strong> allows non-technical users to add some CSS rules to the theme (this is a popular setting in Wordpress).</p>
<h5>Fonts and webfonts</h5>
<p>If you limit your font options to te <a href="">websafe fonts</a>, adding 2 extra <code>font-family</code> lines to the dynamic CSS like below will suffice. Generally this should also be fine if you included custom fonts in your CSS with <code>@font-face</code>
<img src="../assets/posts/gscs_advanced_theming/themetut_font_options.png"></p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">h1,h2,h3,h4,h5,h6, #site-nav a {</span>
<span class="x">  color: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_hcolor&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">  font-family: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_hfont&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">}</span>
<span class="x">body, body p, body ul, body ol, body blockquote { </span>
<span class="x">  color: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pcolor&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">  font-family: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pfont&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">; </span>
<span class="x">}</span></code></pre></div>
<h3>Meta: Setting theme &amp; author data</h3>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
    <th>Access</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Theme version</td>
    <td><code>version</code></td>
    <td><code>text</code></td>
    <td>Locked</td>
  </tr>
  <tr>
    <td>Theme link</td>
    <td><code>url</code></td>
    <td><code>text</code></td>
    <td>Locked</td>
  </tr>
  <tr>
    <td>Extend ID</td>
    <td><code>extend_id</code></td>
    <td><code>text</code></td>
    <td>Locked</td>
  </tr>
  <tr>
    <td>Author</td>
    <td><code>author</code></td>
    <td><code>text</code></td>
    <td>Locked</td>
  </tr>
  <tr>
    <td>Author URL</td>
    <td><code>author_url</code></td>
    <td><code>text</code></td>
    <td>Locked</td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>Theme and author info typically are not customizable and with GS Custom Settings you can (if you wish) easily keep track of them by creating some settings. If you wish to display them for users, set the settings' access to <em>Locked</em>. If you rather hide them, set them to <em>Hidden</em>. The <code>extend_id</code> setting <strong>might become important in the future for automatic theme update notifications in the UI</strong>. </p>
<p>You might also want to output some of these settings, for example in the site footer:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;footer id=&quot;site-footer&quot;&gt;&amp;copy;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">);</span><span class="cp">?&gt;</span><span class="x"> </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;contact_name&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  Theme &lt;a href=&quot;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span><span class="s1">&#39;url&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;My theme&lt;/a&gt; </span>
<span class="x">  v.</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span><span class="s1">&#39;version&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">by </span>
<span class="x">  &lt;a href=&quot;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;author_url&#39;</span><span class="p">);</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/a&gt;</span>
<span class="x">&lt;/footer&gt;</span></code></pre></div>

<p><strong>Note:</strong> With GS Custom Settings v0.4+ you might want to add a <code>version</code> property in the <code>tab</code> object in your <code>settings.json</code> file. GS Custom Settings will automatically update your settings (if there are any changes) when a user installs an updated version of your theme. $</p>
<p><a name="intermediate"></a></p>
<h3>Intermediate</h3>
<p><a name="google-web-fonts"></a></p>
<h4>Styling: Enabling Google Webfonts</h4>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Headings font</td>
    <td><code>css_hfont</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Body font</td>
    <td><code>css_pfont</code></td>
    <td><code>select</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>But you could also give your users some more options by providing <em>Google Webfonts</em>, and we need to add a couple of extra lines of code to the <code>head.inc.php</code> file (above the <code>&lt;style&gt;</code> tag) to include them <strong>only if</strong> the user has selected one because they impact loading times negatively. For this purpose, we need to slightly <strong>preprocess</strong> them with PHP. Google expects an API call like this:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://fonts.googleapis.com/css?family=font+name&quot;&gt;</span></code></pre></div>

<p>We only want the first font in the option, and we need to replace space characters with <code>+</code>, It is good to know the following 2 PHP functions:</p>
<ul>
<li><a href="http://php.net/manual/en/function.explode.php"><code>explode($delimiter, $string)</code></a></li>
<li><a href="http://php.net/manual/en/function.str-replace.php"><code>str_replace($search, $replacement, $string)</code></a></li>
</ul>
<p>In the code below, we <em>(1)</em> create 2 PHP vars <code>$t_hfont</code> (headings font) and <code>$t_pfont</code> (paragraph font), <em>(2)</em> get the setting with a call to <code>get_setting</code> and the third parameter as <code>FALSE</code> to output the <em>display value</em> of a setting (if you did <code>return_setting</code> you would get a number, because the raw value of option settings is the index of the selected option).. <em>(3)</em> With <code>explode</code> we split the string into an array, then in that string <em>(4)</em> we replace space characters with a <strong>+</strong> via <code>str_replace</code>. </p>
<p>Finally, because the first 13 options are <em>not</em> Google fonts,  we check with <code>return_setting</code> if the <em>raw</em> value of the font settings is higher than 13, and only include it then.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> 
<span class="nv">$t_hfont</span> <span class="o">=</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_hfont&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
<span class="nv">$t_hfont</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="nv">$t_hfont</span><span class="p">);</span>
<span class="nv">$t_hfont</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="nv">$t_hfont</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="nv">$t_pfont</span> <span class="o">=</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pfont&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
<span class="nv">$t_pfont</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="nv">$t_pfont</span><span class="p">);</span>
<span class="nv">$t_pfont</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="nv">$t_pfont</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_hfont&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">13</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; </span>
<span class="x">      href=&quot;http://fonts.googleapis.com/css?family=</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$t_hfont</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;css_pfont&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">13</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; </span>
<span class="x">      href=&quot;http://fonts.googleapis.com/css?family=</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$t_pfont</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p><a name="third-party-embeds"></a></p>
<h4>Third party embeds (maps, social feeds,..)</h4>
<p>This setup will enable the user to:</p>
<ul>
<li>embed a Twitter profile feed from the UI</li>
<li>embed a static Google Map with basic options from the UI</li>
</ul>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Twitter feed</td>
    <td><code>twttr_fd</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Twitter widget ID</td>
    <td><code>twttr_id</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Google Map on contact page?</td>
    <td><code>gmap_on</code></td>
    <td><code>checkbox</code></td>
  </tr>
  <tr>
    <td>Google Map size</td>
    <td><code>gmap_size</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Google Map zoom</td>
    <td><code>gmap_zoom</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Address</td>
    <td><code>contact_address</code></td>
    <td><code>textarea</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>Embedding a Twitter feed is as simple as copy pasting the code from the <a href="">dev guide</a> and replacing the feed name. Also don't forget to put a surrounding <code>if</code> clause to test if the settings are not empty to avoid JS errors. To be able to use the feed, the user needs to create a 'widget' in his Twitter account for a certain profile, and copy paste the widget's ID and the feed's name into GS Custom Settings.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;twttr_fd&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;twttr_id&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;a class=&quot;twitter-timeline&quot; </span>
<span class="x">   href=&quot;https://twitter.com/</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;data_twttr_fd&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&quot;</span>
<span class="x">   data-widget-id=&quot;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;data_twttr_id&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">Tweets by @</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;data_twttr_fd&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/a&gt;</span>
<span class="x">&lt;script&gt;</span>
<span class="x">  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?&#39;http&#39;:&#39;https&#39;;</span>
<span class="x">  if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+&quot;://platform.twitter.com/widgets.js&quot;;</span>
<span class="x">  fjs.parentNode.insertBefore(js,fjs);}}(document,&quot;script&quot;,&quot;twitter-wjs&quot;);</span>
<span class="x">&lt;/script&gt;</span><span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>For the Google Map we will re-use the <code>contact_address</code> setting from our theme. Suppose the site owner is Google UK. Their address is entered as:</p>

<div class="highlight"><pre><code>
Google UK, 
Belgrave House, 
76 Buckingham Palace Road, 
London
</code></pre></div>

<p>To understand this part, read up on the <a href="https://developers.google.com/maps/documentation/staticmaps/">Google Maps Static API</a>. The output is served as image data, so we need an image tag, and a safe URL which we obtain through PHP's <code>url_encode</code>. The Static Maps API takes a couple of parameters for customization; here I will only include 3: the location, zoom level, and image size. Zoom levels are between 0 and 21, and image size is in the format <code>wxh</code>, as in <code>100x100</code> (these details can be explained in the setting description).</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nv">$gmap</span> <span class="o">=</span> <span class="nx">return_setting_group</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;gmap&#39;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$gmap</span><span class="p">[</span><span class="s1">&#39;on&#39;</span><span class="p">])</span> <span class="p">{</span>
   <span class="nv">$gmap_url</span> <span class="o">=</span> <span class="s1">&#39;size=&#39;</span> <span class="o">.</span> <span class="nv">$gmap</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&amp;zoom=&#39;</span> <span class="o">.</span> <span class="nv">$gmap</span><span class="p">[</span><span class="s1">&#39;zoom&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&amp;markers=color:red%7C&#39;</span><span class="p">;</span>
   <span class="nv">$gmap_url</span> <span class="o">.=</span> <span class="nb">urlencode</span><span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;contact_address&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;img src=&quot;https://maps.googleapis.com/maps/api/staticmap? </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$gmap_url</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p><a name="third-party-services"></a></p>
<h4>Third party services (analytics, comments,..)</h4>
<p>The following code allows the user to:</p>
<ul>
<li>Set Google Analytics (both classic and universal account types) from the UI with the GA ID.</li>
</ul>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Google Analytics ID</td>
    <td><code>data_ga</code></td>
    <td><code>text</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>Many third-party services (like mail forms, analytics trackers, comment systems) can be embedded via a Javascript API on the page. For this example, we will add <a href="http://analytics.google.com">Google Analytics</a> and the popular <a href="">Disqus comment system</a> to blog pages only. First copy paste the tracker codes: Google Analytics <a href="https://developers.google.com/analytics/devguides/collection/web/">has 2</a>. Instead of having another checkbox for the user to set, we can check it in the code because the tracking codes for universal and classic analytics are different.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;data_ga&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;script type=&quot;text/javascript&quot;&gt;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="nv">$ga_method</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;data_ga&#39;</span><span class="p">));</span> 
  <span class="nv">$ga_method</span> <span class="o">=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$ga_method</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">?</span> <span class="s1">&#39;uni&#39;</span> <span class="o">:</span> <span class="s1">&#39;classic&#39;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$ga_method</span> <span class="o">===</span> <span class="s1">&#39;classic&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">  var _gaq = _gaq || []; </span>
<span class="x">  _gaq.push([&#39;_setAccount&#39;, &#39;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span><span class="s1">&#39;data_ga&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&#39;]); </span>
<span class="x">  _gaq.push([&#39;_trackPageview&#39;]);</span>
<span class="x">  (function() { var ga = document.createElement(&#39;script&#39;); ga.type = &#39;text/javascript&#39;; ga.async = true;</span>
<span class="x">    ga.src = (&#39;https:&#39; == document.location.protocol ? &#39;https://ssl&#39; : &#39;http://www&#39;) + &#39;.google-analytics.com/ga.js&#39;;</span>
<span class="x">    var s = document.getElementsByTagName(&#39;script&#39;)[0]; s.parentNode.insertBefore(ga, s); })();</span>

<span class="x">  </span><span class="cp">&lt;?php</span> <span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span><span class="nv">$ga_method</span> <span class="o">===</span> <span class="s1">&#39;uni&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){</span>
<span class="x">  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),</span>
<span class="x">  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)</span>
<span class="x">  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);</span>
<span class="x">  ga(&#39;create&#39;, &#39;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;data_ga&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&#39;, &#39;auto&#39;);</span>
<span class="x">  ga(&#39;send&#39;, &#39;pageview&#39;);</span>
<span class="x"> </span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/script&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<h5>IN DETAIL</h5>
<p>In the code we:</p>
<ol>
<li>test whether the <code>data_ga</code> text setting is not empty (you could also do more validation on the format)</li>
<li>assign the <code>$ga_method</code> variable to the <code>data_ga</code> setting Universal analytics have a <code>UA-XXXX-Y</code> tracking code, while classic analytics have one more <code>X</code> in the middle. So we split the <code>data_ga</code> string in 3 parts and test if the middle part is 4 characters long. If yes, the code is universal analytics, else it is classic.</li>
<li>output the correct tracking codes from the <a href="https://developers.google.com/analytics/devguides/collection/web/">Google Analytics devguide page</a> in an <code>if else</code> clause. </li>
<li>For <em>classic</em> analytics, set <code>_gaq.push(['_setAccount', '&lt;?php get_setting('theme','data_ga'); ?&gt;']);</code>, and for <em>universal analytics</em>, set <code>ga('create', '&lt;?php get_setting('theme', 'data_ga'); ?&gt;', 'auto');</code></li>
</ol>
<p><a name="social-media-links"></a></p>
<h3>Social media links</h3>
<p>The following setup allows the user to:</p>
<ul>
<li>Set between 1 and 5 social media links using FontAwesome for brand icons.</li>
<li>Choose between 20+ social networks to display (if they're just text links, you could do even more).</li>
<li>Choose the ordering in which his/her social networks are displayed.</li>
</ul>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Social profile 1</td>
    <td><code>social_1</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Social profile 1 URL</td>
    <td><code>social_2_url</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Social profile 2</td>
    <td><code>social_2</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Social profile 2 URL</td>
    <td><code>social_2_url</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Social profile 3</td>
    <td><code>social_3</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Social profile 3 URL</td>
    <td><code>social_3_url</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Social profile 4</td>
    <td><code>social_4</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Social profile 4 URL</td>
    <td><code>social_4_url</code></td>
    <td><code>text</code></td>
  </tr>
  <tr>
    <td>Social profile 5</td>
    <td><code>social_5</code></td>
    <td><code>select</code></td>
  </tr>
  <tr>
    <td>Social profile 5 URL</td>
    <td><code>social_5_url</code></td>
    <td><code>text</code></td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>If your theme includes fixed social media providers (Facebook, Twitter, Google+ for example), you could simply use <code>text</code> settings for each one. But if you want to give the webmaster the <em>possiblility to choose the display order</em> of the social media, and give him/her more social media options, read on =). In this approach, there are 2 settings per social button: <code>social_x</code> defines which social network to choose for profile x, <code>social_x_url</code> holds the link. Basically every <code>social_x</code> <code>select</code> setting has +- 20 of the <a href="http://fortawesome.github.io/Font-Awesome/icons/#brand">FontAwesome brand icons</a> as options, and an extra option 'None'.
You might want to read up on PHP <a href="http://php.net/manual/en/control-structures.for.php">for loops</a> and <a href="http://php.net/manual/en/control-structures.if.php">conditional if</a> if you're not familiar.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nv">$social_opts</span> <span class="o">=</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;social_1&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;nav id=&quot;profile-social&quot;&gt;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="k">for</span> <span class="p">(</span><span class="nv">$si</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$si</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="nv">$si</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>  
  <span class="k">if</span> <span class="p">(</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;social_&#39;</span> <span class="o">.</span> <span class="nv">$si</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;social_&#39;</span> <span class="o">.</span> <span class="nv">$si</span> <span class="o">.</span> <span class="s1">&#39;_url&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;a href=&quot;</span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;social_&#39;</span> <span class="o">.</span> <span class="nv">$si</span> <span class="o">.</span> <span class="s1">&#39;_url&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">    &lt;i class=&quot;fa fa-fw fa-</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">strtolower</span><span class="p">(</span><span class="nv">$social_opts</span><span class="p">[</span><span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;social_&#39;</span> <span class="o">.</span> <span class="nv">$si</span><span class="p">)]);</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;&lt;/i&gt;</span>
<span class="x">  &lt;/a&gt;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="p">}</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/nav&gt;</span></code></pre></div>

<h5>IN DETAIL</h5>
<p>In the code, we:</p>
<ol>
<li>assign the <code>options</code> from the first select setting to the PHP variable <code>$social_opts</code>. They are all the same for the 5 settings so it doesn't matter which one.</li>
<li>create a <code>for</code> loop starting from <strong>1</strong> because the first link is <code>social_1</code> and not <code>social_0</code>, and ending at <strong>6</strong> because there can be max. 5 social links in our theme and <strong>6-1 = 5</strong>.</li>
<li>
Inside the <code>for</code> loop, we check with <code>if</code> with: 
<ol>
<li><code>return_setting('theme', 'social_' . $si)</code> if the value of the <code>select</code> is not 0 (='None')</li>
<li><code>return_setting('theme', 'social_' . $si . '_url')</code> if the value of the <code>text</code> (link) is not empty.</li>
</ol>
</li>
<li>output the link in the <code>href</code> attribute, and the name of the social network as <code>fa-&lt;name&gt;</code> (for fontAwesome) <code>&lt;?php echo strtolower($social_opts[return_setting('theme', 'social_' . $si)]); ?&gt;</code> <br><code>strtolower</code> simply converts eg 'Facebook' to 'facebook', and <code>$social_opts</code> is a numeric array, while <code>return_setting('theme', 'social_' . $si)</code> is an index, so doing the above is the same as <code>$social_opts[x]</code> which holds the name of a social network. </li>
</ol>
<p><a name="key-value-pairs"></a></p>
<h4>Meta: date format - hidden settings for key-value pairs</h4>
<p>The following code allows the user to:</p>
<ul>
<li>Set Google Analytics (both classic and universal account types) from the UI with the GA ID.</li>
<li>Set the Disqus comment system on blog pages.</li>
</ul>
<h5>SETTINGS</h5>
<table style="border-collapse: collapse;">
 <thead>
  <tr>
    <th>Label</th>
    <th>Lookup</th>
    <th>Type</th>
    <th>Access</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>Blogpost date format</td>
    <td><code>blog_date</code></td>
    <td><code>select</code></td>
    <td>Normal</td>
  </tr>
  <tr>
    <td>Blogpost date values</td>
    <td><code>blog_date_fm</code></td>
    <td><code>select</code></td>
    <td>Hidden</td>
  </tr>
 </tbody>
</table>
<h5>DISCUSSION</h5>
<p>PHP date formats are somewhat hard to understand for non-technical people. They probably don't understand <code>F jS Y</code> as a date. Sometimes you want the <em>options displayed in the UI to return a different output associated with that option</em>. For text settings/ settings with limited options it's easy enough to do, but for 15+ options you might need <strong>key - value</strong> pairs. You could do this in a PHP array but you would be polluting your template. There's a 'hack' around it in GS Custom Settings: create two <code>select</code> settings, - one for the display and one for the return data (hidden access) -, with <em>the same options in the same order</em>.</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nv">$date_fm_opts</span> <span class="o">=</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;blog_date_fm&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">);</span>
      <span class="nv">$date_ui</span> <span class="o">=</span> <span class="nx">return_setting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span><span class="s1">&#39;blog_date&#39;</span><span class="p">);</span>
 <span class="c1">// JFYI $item-&gt;creDate is set from a call in return_i18n_search_results</span>
 <span class="k">echo</span> <span class="nb">date</span><span class="p">(</span><span class="nv">$date_fm_opts</span><span class="p">[</span><span class="nv">$date_ui</span><span class="p">],</span> <span class="nv">$item</span><span class="o">-&gt;</span><span class="na">creDate</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span></code></pre></div>
<h5>IN DETAIL</h5>
<p>In the code we:</p>
<ol>
<li>return the options (an array) from the hidden <code>blog_date_fm</code> setting and assign it to <code>$date_fm_opts</code>.</li>
<li>return the value (an index) from the <code>blog_date</code> setting and assign it to <code>$date-ui</code></li>
<li>Because <code>blog_date</code> and <code>blog_date_fm</code> have the same options in the same order, we can get the value from <code>blog_date</code> and retrieve the correct return value from <code>blog_date_fm</code> by doing <code>$date_fm_opts[$date_ui]</code>.</li>
</ol>
				</section>
				<footer>
					<section>
						<div itemprop="keywords" id="post-tags">
							<label style="margin-right: 10px;">Tags:</label>
			 				 
			 					<a href="/categories/?tag=GetSimple">#GetSimple</a>
			 				 
			 					<a href="/categories/?tag=PHP">#PHP</a>
			 				 
			 					<a href="/categories/?tag=plugin">#plugin</a>
			 				 
			 					<a href="/categories/?tag=theme">#theme</a>
			 				
						</div>
						<div id="post-categories">
							<label style="margin-right: 10px;">Category:</label> 
			 				 
			 					<a href="/categories/?cat=cms">cms</a>
			 				
						</div>
						<div class="addthis_native_toolbox"></div>
					</section>
					<section id="comments" itemprop="comment" itemtype="http://schema.org/UserComments" itemscope>
			 			<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tyblitzsandbox'; // required: replace example with your forum shortname

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
					</section>
				</footer>
			</article>
		</div>
		<aside>
	
	
	
		<section id="recent-sidebar">
			
				<strong>Recent posts</strong>
<ul>

	<li><a href="//cms/2015/05/24/building-a-theme-with-gs-custom-settings/">Tutorial - Building a basic theme with GS Custom Settings</a></li>

	<li><a href="//cms/2015/05/24/2015-04-25-building-a-theme-with-gs-custom-settings-advanced/">Building a theme with GS Custom Settings - advanced</a></li>

	<li><a href="//cms/2015/05/24/2015-04-25-building-a-theme-with-gs-custom-settings-advanced/">Building a theme with GS Custom Settings - advanced</a></li>

	<li><a href="//2015/05/24/2015-04-25-building-a-theme-with-gs-custom-settings-advanced2/">2015 04 25 Building A Theme With Gs Custom Settings Advanced2</a></li>

	<li><a href="//2015/05/17/building-a-plugin-with-gs-custom-settings/">Building A Plugin With Gs Custom Settings</a></li>

</ul>
			
		</section>
	
		<section id="categories-sidebar">
			
				<strong>Categories</strong>
<ul>

	<li><a href="/search?category=cms">cms</a></li>

</ul>
			
		</section>
	
		<section id="tags-sidebar">
			
				<strong>Tags</strong>
<ul>

	<li><a href="/search?tag=GetSimple">GetSimple</a></li>

	<li><a href="/search?tag=PHP">PHP</a></li>

	<li><a href="/search?tag=plugin">plugin</a></li>

	<li><a href="/search?tag=theme">theme</a></li>

</ul>
			
		</section>
	
		<section id="archives-sidebar">
			
				<strong>Archives</strong>

  
  </ul>
			
		</section>
	
	
</aside>
		<script type="text/javascript">
		// code select event
		function selectText(element) {
    	var doc = document;
    	var text = element;    

	    if (doc.body.createTextRange) { // ms
	        var range = doc.body.createTextRange();
	        range.moveToElementText(text);
	        range.select();
	    } else if (window.getSelection) { // moz, opera, webkit
	        var selection = window.getSelection();            
	        var range = doc.createRange();
	        range.selectNodeContents(text);
	        selection.removeAllRanges();
	        selection.addRange(range);
	    }
		}
		// code select generator
		var codeBlocks = document.getElementsByClassName('highlight');
		for (var i = 0; i < codeBlocks.length; i++ ) {
		  var el = document.createElement('button');
		  el.type = 'button';
		  el.className = 'copy-code';
		  el.title = 'Select code';
		  el.appendChild(document.createTextNode('</>'));
		  codeBlocks[i].appendChild(el);
		}
		// code selector
		document.getElementsByTagName('article')[0].addEventListener('click', function(e) {
		  var target = e.target || e.srcElement;
		  if (target.className === 'copy-code') {
		  	selectText(target.parentNode.getElementsByTagName('code')[0]);
		  }
		}, false);
		// Social media tag generator
		var head = document.getElementsByTagName('head')[0];

	</script>
	<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53aaa38d4c8bd98c"></script>
	
		
			<footer id="site-footer">
				<small>Copyright 2015, Kevin Van Lierde. All Rights Reserved, content licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons</a> </small>
			</footer>
		</div>
	</div>
		<!-- Google Analytics -->
		<script type="text/javascript">
			
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'ID', 'tumblr.com');
			ga('send', 'pageview');

			var months = document.getElementsByClassName('post-month');
			if (months) {
				for (var i = 0; i < months.length; i++) {
					if (months[i].innerHTML.length > 5) {
						months[i].innerHTML = months[i].innerHTML.slice(0,3) + '.';
					}
				}
			}
		</script>
	</body>
</html> 
	</body>
</html>