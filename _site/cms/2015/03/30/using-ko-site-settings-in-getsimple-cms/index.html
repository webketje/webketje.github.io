<!DOCTYPE html>
<html lang="en">
	<head>
			<meta charset="utf-8">
	<title>Using KO Site Settings in GetSimple CMS | webketje</title>
	<link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
	<link rel="stylesheet" type="text/css" href="/assets/fonts/font-awesome-4.1.0/css/font-awesome.min.css" type="text/css">
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css">
	<!-- Google Webfonts -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css">
	<link href='http://fonts.googleapis.com/css?family=Droid+Serif' rel='stylesheet' type='text/css'>
	<!-- JS libraries -->
	<script src="https://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
	<!-- <script src="assets/js/lib/modernizr-2.8.2/modernizr.js" type="text/javascript"></script> -->
	<!-- meta -->
	<meta name="description" content="Example use cases for the GetSimple KO Site settings plugin">
	<meta name="keywords" content="GetSimplePHPplugin">
	<meta name="author" content="Kevin Van Lierde">
	<!-- favicon -->
	<link rel="shortcut icon" type="image/png" href="/favicon.png"/>
	<link rel="shortcut icon" type="image/png" href="http://webketje.github.io/favicon.png"/>
		<!-- Twitter tags -->
		<meta name="twitter:card" content="summary">
		<meta name="twitter:description" content="This article shows you how the KO Site Settings plugin can be configured and used in GetSimple CMS. Following its original intent, the article will demonstrate a variety of ways in which you can create components whose output depends (among other plugins) on KO settings.
">
		<meta name="twitter:title" content="Using KO Site Settings in GetSimple CMS">
		<meta name="twitter:url" content="http://webketje.github.io//cms/2015/03/30/using-ko-site-settings-in-getsimple-cms/">
		<meta name="twitter:site" content="'t Webketje">
		<!-- FB OpenGraph tags -->
		<meta name="og:sitename" content="'t Webketje">
		<meta name="og:description" content="This article shows you how the KO Site Settings plugin can be configured and used in GetSimple CMS. Following its original intent, the article will demonstrate a variety of ways in which you can create components whose output depends (among other plugins) on KO settings.
">
		<meta name="og:title" content="Using KO Site Settings in GetSimple CMS">
		<meta name="og:url" content="/cms/2015/03/30/using-ko-site-settings-in-getsimple-cms/">
		<meta name="og:image" content="">
	</head>
	<body class="blog-post">
		<div id="fb-root"></div>
		<script>
		(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
		</script>
		<div id="wrapper">
		<header id="site-header">
	<figure id="profile-picture">
		<img src="/assets/img/kevin-van-lierde.png" alt="Kevin Van Lierde's profile picture">
	</figure>
	<div>
		<h2 id="site-title">'t Webketje</h2>
		<nav id="site-nav">
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/">Blog</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/projects/">Projects</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/work/">Work</a> /
			 
			
			
			
			
			
			
			
			
			<a href="/about/">About</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/contact/">Contact</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		</nav>
	</div>
	<nav id="site-social-media">
		<p>Get in touch:<img src="/assets/img/arrow.png" alt="arrow down"></p>
		<a href="http://twitter.com/Tyblitz" 	title="Twitter"><i class="fa fa-twitter"></i></a>
		<a href="http://linkedin.com/kevinvanlierde" 	title="Linkedin"><i class="fa fa-linkedin"></i></a>
		<a href="http://plus.google.com/+KevinVanLierde" title="Google Plus"><i class="fa fa-google-plus"></i></a>
		<a href="http://stackoverflow.com/users/1938203/tyblitz" title="StackOverflow"><i class="fa fa-stack-overflow"></i></a>
		<a href="#kevin.van.lierde@gmail.com" 	title="E-mail: kevin.van.lierde@gmail.com"><i class="fa fa-envelope"></i></a>
	</nav>
</header>
		<div id="main">
			<article itemscope="" itemtype="http://schema.org/BlogPosting" class="list-item post">
				<figure id="coffee-cup">
					<img src="/assets/img/coffee-cup4.png" alt="A drawing of a delicious coffee cup by lineandwash.blogspot.be">
					<figcaption><small>Drawing of a delicious coffee cup by <cite><a href="http://lineandwash.blogspot.be">LineAndWash.blogspot.be</a></cite></small></figcaption>
				</figure>
				<section itemprop="articleBody">
					<header>
						<h1 id="page-title">Using KO Site Settings in GetSimple CMS</h1>
						<div class="post-meta">
							In <a class="post-category" href="/categories/?cat=CMS">CMS</a> | 
							<time datetime="30 March 2015">
								<span class="post-day">30</span>
								<span class="post-month">March</span>
								<span class="post-year">2015</span>
							</time>
						</div>
						<!-- Go to www.addthis.com/dashboard to customize your tools -->
						<div class="addthis_native_toolbox"></div>
						<hr>
						
							<p itemprop="description">This article shows you how the KO Site Settings plugin can be configured and used in GetSimple CMS. Following its original intent, the article will demonstrate a variety of ways in which you can create components whose output depends (among other plugins) on KO settings.
</p>
						
					</header>
					<section>
	<h2>Giving users the ability to tweak their site's CSS</h2>
	<p>Some websites change their CSS or content depending on the season, promotion, event, ... For example, suppose you want to provide different background colors to choose from for spring, summer, autumn, and winter (yellow, lime, brown, white). You can allow the site manager to customize this by adding a <strong>select</strong> or <strong>radio</strong> setting. For this example the setting is put in the tab <code>Site</code>, has a label of <code>Mood</code>, and a type of <code>select</code>, with options <code>yellow, lime, brown, white</code>. In our template we could simply do it like so:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;body style=&quot;background: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;site/mood&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">;&quot;&gt;</span>
<span class="x">  &lt;!-- other code --&gt;</span>
<span class="x">&lt;/body&gt;</span></code></pre></div>

<p>Another example, could be to allow the user to choose the length of a blog post excerpt in a component with a radio setting, with label <code>Number of words in blogpost excerpt?</code>, in tab <code>Blog</code> and options <code>25,50,75,100</code>:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;div class=&quot;post&quot;&gt;</span>
<span class="x">   &lt;h3&gt;Title&lt;/h3&gt;</span>
<span class="x">   &lt;p class=&quot;post-excerpt&quot;&gt;</span><span class="cp">&lt;?php</span> 
      <span class="nv">$content</span> <span class="o">=</span> <span class="nx">returnPageContent</span><span class="p">(</span><span class="nx">return_page_slug</span><span class="p">());</span>
      <span class="nb">substr</span><span class="p">(</span><span class="nv">$content</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;blog/number_of_words_in_blogpost_excerpt&#39;</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="x">&lt;/div&gt;</span></code></pre></div>

</section>
<section>
	<h2>Social media links</h2>
	<p>Let's say we want to provide our webmanagers the ability to register their social accounts in the admin backend, and they could be outputted in a component or theme. For this purpose we create a new tab in the KO site settings tab (<code>Site</code>), called <code>Social</code>. We want to provide Twitter, Linkedin, Google+ and Facebook fields, so we create a 4 new settings, each with type 'text', and a different label (the social network's name + ' link'), other settings left as default. Now, the PHP code would look something like this: </p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;ul&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$social_settings</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;twitter&#39;</span><span class="p">,</span><span class="s1">&#39;linkedin&#39;</span><span class="p">,</span><span class="s1">&#39;googleplus&#39;</span><span class="p">,</span><span class="s1">&#39;facebook&#39;</span><span class="p">);</span>
   <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$social_settings</span><span class="p">);</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$current</span> <span class="o">=</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;social/&#39;</span> <span class="o">.</span> <span class="nv">$social_settings</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;_link&#39;</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$current</span><span class="p">))</span> <span class="c1">// only add if value is non-empty</span>
         <span class="k">echo</span> <span class="s1">&#39;&lt;li&gt;&lt;a href=&quot;&#39;</span> <span class="o">.</span> <span class="nv">$current</span> <span class="o">.</span> <span class="s1">&#39;&quot;&gt;&#39;</span> <span class="o">.</span> <span class="nv">$social_settings</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&lt;/a&gt;&lt;/li&gt;&#39;</span><span class="p">;</span>
   <span class="p">}</span> 
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span></code></pre></div>

</section>
<section>
	<h2>Making use of the access property</h2>
	<p>A setting's access level can be set to <code>Normal</code> (default), <code>Locked</code> or <code>Hidden</code> (refer to the <a href="/projects/ko-site-settings/#restricting-editing-permission">documentation for more info</a>). If you have a Google Analytics account setup for your client, you might want to set up a setting for the account's ID, or login credentials. For this purpose</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;body style=&quot;background: </span><span class="cp">&lt;?php</span> <span class="nx">get_setting</span><span class="p">(</span><span class="s1">&#39;site/mood&#39;</span> <span class="o">.</span> <span class="nv">$social_settings</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;_link&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">;&quot;&gt;</span>
<span class="x">  &lt;!-- other code --&gt;</span>
<span class="x">&lt;/body&gt;</span></code></pre></div>

</section>

				</section>
				<footer>
					<section>
						<div itemprop="keywords" id="post-tags">
							<label style="margin-right: 10px;">Tags:</label>
			 				 
			 					<a href="/categories/?tag=GetSimple">#GetSimple</a>
			 				 
			 					<a href="/categories/?tag=PHP">#PHP</a>
			 				 
			 					<a href="/categories/?tag=plugin">#plugin</a>
			 				
						</div>
						<div id="post-categories">
							<label style="margin-right: 10px;">Category:</label> 
			 				 
			 					<a href="/categories/?cat=cms">cms</a>
			 				
						</div>
						<div class="addthis_native_toolbox"></div>
					</section>
					<section id="comments" itemprop="comment" itemtype="http://schema.org/UserComments" itemscope>
			 			<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tyblitzsandbox'; // required: replace example with your forum shortname

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
					</section>
				</footer>
			</article>
		</div>
		<aside>
	
	
	
		<section id="recent-sidebar">
			
				<strong>Recent posts</strong>
<ul>

	<li><a href="//cms/2015/05/24/building-a-theme-with-gs-custom-settings/">Tutorial - Building a basic theme with GS Custom Settings</a></li>

	<li><a href="//cms/2015/05/24/2015-04-25-building-a-theme-with-gs-custom-settings-advanced/">Building a theme with GS Custom Settings - advanced</a></li>

	<li><a href="//cms/2015/05/24/2015-04-25-building-a-theme-with-gs-custom-settings-advanced/">Building a theme with GS Custom Settings - advanced</a></li>

	<li><a href="//2015/05/24/2015-04-25-building-a-theme-with-gs-custom-settings-advanced2/">2015 04 25 Building A Theme With Gs Custom Settings Advanced2</a></li>

	<li><a href="//2015/05/17/building-a-plugin-with-gs-custom-settings/">Building A Plugin With Gs Custom Settings</a></li>

</ul>
			
		</section>
	
		<section id="categories-sidebar">
			
				<strong>Categories</strong>
<ul>

	<li><a href="/search?category=cms">cms</a></li>

</ul>
			
		</section>
	
		<section id="tags-sidebar">
			
				<strong>Tags</strong>
<ul>

	<li><a href="/search?tag=GetSimple">GetSimple</a></li>

	<li><a href="/search?tag=PHP">PHP</a></li>

	<li><a href="/search?tag=plugin">plugin</a></li>

	<li><a href="/search?tag=theme">theme</a></li>

</ul>
			
		</section>
	
		<section id="archives-sidebar">
			
				<strong>Archives</strong>

  
  </ul>
			
		</section>
	
	
</aside>
		<script type="text/javascript">
		// code select event
		function selectText(element) {
    	var doc = document;
    	var text = element;    

	    if (doc.body.createTextRange) { // ms
	        var range = doc.body.createTextRange();
	        range.moveToElementText(text);
	        range.select();
	    } else if (window.getSelection) { // moz, opera, webkit
	        var selection = window.getSelection();            
	        var range = doc.createRange();
	        range.selectNodeContents(text);
	        selection.removeAllRanges();
	        selection.addRange(range);
	    }
		}
		// code select generator
		var codeBlocks = document.getElementsByClassName('highlight');
		for (var i = 0; i < codeBlocks.length; i++ ) {
		  var el = document.createElement('button');
		  el.type = 'button';
		  el.className = 'copy-code';
		  el.title = 'Select code';
		  el.appendChild(document.createTextNode('</>'));
		  codeBlocks[i].appendChild(el);
		}
		// code selector
		document.getElementsByTagName('article')[0].addEventListener('click', function(e) {
		  var target = e.target || e.srcElement;
		  if (target.className === 'copy-code') {
		  	selectText(target.parentNode.getElementsByTagName('code')[0]);
		  }
		}, false);
		// Social media tag generator
		var head = document.getElementsByTagName('head')[0];

	</script>
	<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53aaa38d4c8bd98c"></script>
	
		
			<footer id="site-footer">
				<small>Copyright 2015, Kevin Van Lierde. All Rights Reserved, content licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons</a> </small>
			</footer>
		</div>
	</div>
		<!-- Google Analytics -->
		<script type="text/javascript">
			
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'ID', 'tumblr.com');
			ga('send', 'pageview');

			var months = document.getElementsByClassName('post-month');
			if (months) {
				for (var i = 0; i < months.length; i++) {
					if (months[i].innerHTML.length > 5) {
						months[i].innerHTML = months[i].innerHTML.slice(0,3) + '.';
					}
				}
			}
		</script>
	</body>
</html> 
	</body>
</html>