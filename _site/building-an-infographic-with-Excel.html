<section itemprop="articleSection">
  <h2>URL parameters, what's that?</h2>
  <p>URL parameters are often used by <code>PHP</code> / <code>ASP</code> pages to generate dynamic content for differing data on one template. 
  An easy example for this is if you have a multilingual website. Eg instead of building 3 different pages for each language,
  you simply append a URL parameter to the URL, like so: <code>http://www.yoursite.com/home?lang=en</code>. If you offered the homepage in French, that would change to <code>http://www.yoursite.com/home?lang=fr</code>. 
  The traditional formatting of such a parameter starts with a <code title="question mark">?</code>', followed by a tag with a value assigned to it with '<code title="equals sign">=</code>'. If multiple parameters are given, they are attached (concatenated) with the '&amp;' sign. Whenever you shop online and stumble upon a filterable product list (with checkboxes), you can be sure that when you check the URL, it will contain various URL parameters. For example a laptop product filtered page could be: <code>http://www.laptops.com/products/?type=notebook&amp;screen=1366x768&amp;...</code> .</p>
</section>
<section itemprop="articleSection">
<h2>Generating URL's with parameters in Jekyll</h2>
<p>First you'll need to build a simple <code>categories.html</code> page, or a <code>categories</code> folder with an <code>index.html</code> file inside.
I went with the second option. In this tutorial I'll be using categories, but you can do the same with tags; I decided upon <code>?cat=</code> as the URL parameter. Often you will want your tags/ categories displayed next to a blog post, so your markup could be like this:
</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;aside&gt;</span>
  <span class="nt">&lt;h4&gt;</span>Categories<span class="nt">&lt;/h4&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    {% for cat in site.categories %}
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{site.url}}/categories/?cat={{ cat || first }}&quot;</span><span class="nt">&gt;</span>{{ cat || first }}<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
    {% endfor %}
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/aside&gt;</span></code></pre></div>

<p>This will make sure that when a user clicks the link, it will contain the parameter.</p>
</section>
<section itemprop="articleSection">
<h2>Setting up the blogpost list template</h2>
<p> I decided to go with a <code>ul</code> element to display a list of posts, but you're free to choose your container element.  Just as for your regular blog-roll, you could have a categories page like this:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p&gt;</span>Displaying posts for category: <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">&quot;chosen-category&quot;</span><span class="nt">&gt;&lt;/span&gt;&lt;/p&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;blog-roll&quot;</span><span class="nt">&gt;</span>
  {% for post in site.posts %}
     <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">data-categories=</span><span class="s">&quot;{{ post.categories }}&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{ post.url }}&quot;</span> <span class="na">class=</span><span class="s">&quot;post-url&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;post-title&quot;</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
     <span class="nt">&lt;/li&gt;</span>
  {% endfor %}
<span class="nt">&lt;/ul&gt;</span></code></pre></div>

<p>The important  part is the <code>data-categories</code> attribute, which we will use to decide whether the post needs to be displayed or not. The <code>chosen-category</code> span will simply display the category in the URL parameter. In your posts you could have a very minimal YAML block like the one beneath:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">some Blogpost</span>
<span class="l-Scalar-Plain">categories</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">categoryA</span>
<span class="nn">---</span></code></pre></div>


</section>
<section itemprop="articleSection">

<h2>Writing the Javascript</h2>

<p>With all our Jekyll &amp; HTML in place, we can now concentrate on the Javascript</p>


<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">chosenCat</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;chosen-category&#39;</span><span class="p">),</span>
    <span class="nx">postList</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;blog-roll&#39;</span><span class="p">),</span>
    <span class="nx">postItems</span> <span class="o">=</span> <span class="nx">postList</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">);</span>

<span class="c1">// extract the category value from the URL &amp; output it in the span</span>
<span class="nx">chosenCat</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/\?.*\=/</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>

<span class="kd">function</span> <span class="nx">filterKeywords</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">len</span> <span class="o">=</span> <span class="nx">postItems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// compare the data-categories attribute of each post to the chosen category</span>
    <span class="c1">// remove it from the page if it doesn&#39;t match</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">postItems</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;data-categories&#39;</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="nx">chosenCat</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">arr</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">postItems</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">filterKeywords</span><span class="p">();</span></code></pre></div>


</section>
