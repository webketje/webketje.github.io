<!DOCTYPE html>
<html lang="en">
	<head>
			<meta charset="utf-8">
	<title>GS Custom Settings | webketje</title>
	<link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
	<link rel="stylesheet" type="text/css" href="/assets/fonts/font-awesome-4.1.0/css/font-awesome.min.css" type="text/css">
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css">
	<!-- Google Webfonts -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css">
	<link href='http://fonts.googleapis.com/css?family=Droid+Serif' rel='stylesheet' type='text/css'>
	<!-- JS libraries -->
	<script src="https://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
	<!-- <script src="assets/js/lib/modernizr-2.8.2/modernizr.js" type="text/javascript"></script> -->
	<!-- meta -->
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="author" content="Kevin Van Lierde">
	<!-- favicon -->
	<link rel="shortcut icon" type="image/png" href="/favicon.png"/>
	<link rel="shortcut icon" type="image/png" href="http://webketje.github.io/favicon.png"/>
	</head>
	<body id="gs custom settings">
		<div id="wrapper">
			<header id="site-header">
	<figure id="profile-picture">
		<img src="/assets/img/kevin-van-lierde.png" alt="Kevin Van Lierde's profile picture">
	</figure>
	<div>
		<h2 id="site-title">'t Webketje</h2>
		<nav id="site-nav">
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/projects/">Projects</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/work/">Work</a> /
			 
			
			
			
			
			
			
			
			
			<a href="/about/">About</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<a href="/contact/">Contact</a> /
			 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		</nav>
	</div>
	<nav id="site-social-media">
		<p>Get in touch:<img src="/assets/img/arrow.png" alt="arrow down"></p>
		<a href="http://twitter.com/Tyblitz" 	title="Twitter"><i class="fa fa-twitter"></i></a>
		<a href="http://linkedin.com/kevinvanlierde" 	title="Linkedin"><i class="fa fa-linkedin"></i></a>
		<a href="http://plus.google.com/+KevinVanLierde" title="Google Plus"><i class="fa fa-google-plus"></i></a>
		<a href="http://stackoverflow.com/users/1938203/tyblitz" title="StackOverflow"><i class="fa fa-stack-overflow"></i></a>
		<a href="#kevin.van.lierde@gmail.com" 	title="E-mail: kevin.van.lierde@gmail.com"><i class="fa fa-envelope"></i></a>
	</nav>
</header>
			<h1 id="page-title">GS Custom Settings</h1>
			<div id="main" >
				
				
					<div class="page">
						<script src="assets/js/jquery.sticky.js"></script>
<section id="intro">
	<header>
		<h2 id="introduction">Introduction</h2>
	</header>
	<p>GS Custom Settings is a plugin for <a href="http://get-simple.info/">GetSimple CMS </a>which lets webmasters/ site managers, theme and plugin developers implement and use their own custom settings for output, configuration, and cross-plugin/-theme communication. It's a bit like the <a href="http://get-simple.info/extend/plugin/customfields/22/">custom fields plugin</a>, but not for pages. The plugin offers 8 different types of input to choose from, 3 access levels, per-user editing permission, and an easy UI to create, import and export the settings. Once activated, a new tab 'Site', is added, where one will find all settings created with the plugin, grouped by sidebar tab. View a screenshot of the UI in <a href="http://i.imgur.com/w0yV3ez.png">Manage mode</a> or <a href="http://i.imgur.com/NuQ2ezN.png">Edit mode</a></p>
	<p>The plugin is built on <a href="http://knockoutjs.com">Knockout JS</a> and handles almost all logic client-side, except for plugin registration, hooks, path resolving, and handling server requests. Data is sent and saved through AJAX. Furthermore, the plugin provides an interactive notification service and a JS localization system. The language file for this plugin is also in JSON format.</p><p>GS Custom Settings is compatible with <strong>PHP 5.2+</strong> (might work with PHP 5+, untested) and <strong>all browsers except Internet Explorer 8 and older</strong> Managing settings also works in IE8 (editing doesn't). Some features might not work on some browsers. See <a href="#known-issues">Known Issues</a> for more information. If you find <strong>bugs</strong> or have <strong>feature requests or questions</strong>, feel free to open a new issue in the <a href="https://github.com/webketje/GS-Custom-Settings/">Github repo</a> or write a post on the <a href="http://get-simple.info/forums/showthread.php?tid=7099">GS support forum</a>.</p>
</section>
<section>
	<header>
		<h2 id="features">Features</h2>
	</header>
	<ul>
		<li>Custom settings for site managers, plugin and theme developers</li>
		<li>5 different setting types (select, radio, text, textarea, checkbox) + 3 fancy variants (FontAwesome)</li>
		<li>3 access levels for settings (normal, hidden, locked)</li>
		<li>Output settings in pages with <code>(% setting:tab/setting %)</code> or in PHP with <code>get_setting('tab','setting')</code></li>
		<li>Restrict user editing permission per user</li>
		<li>Feature-rich editing in 'edit' mode with multiselect, batch setting adding/removing &amp; keyboard shortcuts</li>
		<li>Responsive feedback through notifications</li>
		<li>Import (IE10+ &amp; other browsers)/ Export settings for re-use through the GUI</li>
		<li>Build and export settings directly through the UI for your plugin/ theme</li>
		<li>Extend existing themes and plugins with custom settings</li>
		<li>Access settings from other themes and plugins</li>
		<li>(almost) fully i18n, even custom theme and plugin settings I18n-enabled</li>
		<li>Available in English, French &amp; Dutch</li>
	</ul>
	<p>And many more in future releases...</p>
</section>
<section>
	<header>
		<h2 id="download-install-upgrade">Download, install, upgrade</h2>
	</header>
	<p>Download the latest (and other) version(s) of this plugin on the GetSimple Extend <a href="http://get-simple.info/extend/plugin/ko-site-settings/913/">Plugin page</a>. The latest version of this plugin is <strong>0.2</strong>.
	To install, simply unzip to GS plugins directory. If you're upgrading from 0.1, the entire directory structure and data files will be automatically updated, provided that you <strong>first deactivate KO Site Settings, then activate the new Custom Settings</strong>.
	</p>
</section>
<section>
	<header>
		<h2 id="user-guide">User Guide</h2>
	</header>
	<section>
		<h3 id="advised-use">Advised use</h3>
		<p>It is required that every setting and every tab have a different <strong>lookup</strong> value, the plugin will not save updates if there are duplicate lookups. It is also important to note that if you change this value, you will have to update your PHP calls. Therefore it is advised not to change the setting's tab/ label after putting it to use.</p>
	</section>
	<section>
		<h3 id="switching-between-modes">Switching between modes</h3>
		<p>The Site Settings plugin allows you to switch modes between <kbd>Manage</kbd> and <kbd>Edit</kbd>. <kbd>Manage</kbd> mode only allows changing the value of visible, non-locked inputs, and is meant for the webmaster/ website manager; in <kbd>Edit</kbd> mode, (primarily) for the developer, one can create and modify settings. Simply click the button to toggle the mode. </p>
	</section>
	<section>
		<h3 id="editing-tabs">Editing tabs</h3>
		<img style="float: right; margin-left: 20px;" src="http://i.imgur.com/dmuLukB.gif">
		<p>Editing tabs is pretty self-explanatory (see image to the right). Click the tab label to edit it, and click the icons to complete any of the following actions, from left to right: </p>
		<ol>
			<li>Add a new tab</li>
			<li>Remove this tab</li>
			<li>Move this tab up</li>
			<li>Move this tab down</li>
		</ol>
		<p>There are 3 types of tabs: site tabs, theme tabs and plugin tabs, displayed in that order respectively. Only site tabs are visible in Edit mode/editable (but you can extend plugin and theme tabs manually). You can also extend plugins/ themes which do <em>not</em> use GS Custom Settings trivially by following the instructions in For Plugin/ Theme developers.</p>
	</section>
	<section>
		<h3 id="editing-settings">Editing settings</h3>
		<p>To view setting details for all settings, toggle the Open/ Close All button in the top-right nav. The settings toolbar allows any of the following actions, from left to right:</p>
		<ol>
			<li>(De)select all settings</li>
			<li>Show/ Hide all settings' details</li>
			<li>Add x (x = items in selection) new settings</li>
			<li>Remove all selected settings</li>
			<li>Move all selected settings up</li>
			<li>Move all selected settings down</li>
		</ol>
		<img src="http://i.imgur.com/pXbVG8A.gif" style="width: 50%; float: right; margin-left: 20px;">
		<p>Every setting also has the two first buttons to (de)select individually &amp; hide/show individually. As of v0.2, some setting actions can also be achieved using keyboard shortcuts, eg:</p>
		<ol>
		<li><kbd>SHIFT</kbd> + click selects all settings between the setting first and last clicked.</li>
		<li><kbd>Ctrl</kbd> + click adds the clicked setting to the selection</li>
		<li><kbd>DELETE</kbd> removes all selected settings</li>
		</ol>
	</section>
	<section>
		<h3 id="editing-setting-properties">Editing setting properties</h3>
		<p>Each setting has 6 (or 7) modifiable properties: lookup, label, descr, type, value, access [, options]. Here's what they are used for/ their possible values:</p>
		<ul>
			<li><code>lookup</code> is the identifier used by PHP to link translations and return settings through the API functions. It is important to never have duplicate lookups in the same tab to avoid returning the wrong setting.</li>
			<li><code>label</code> is the setting's title, displayed in <code>Manage</code> mode, and should be max 5-10 words.</li>
			<li><code>descr</code> is a setting's additional description, displayed in <code>Manage</code> mode.</li>
			<li><code>value</code> holds the setting's value. For text inputs (text, textarea) this is simply the text entered, for checkbox inputs (checkbox, switch, fancy checkbox) a boolean (true/ false), and for option inputs (radio, select, fancy radio) a zero-based index.</li>
			<li>
			<code>type</code> is a setting's type. It determines display in <code>Manage</code> mode and through  calls to <code>get_setting</code>. There are 3 setting types, each with more variants:
				<ul>
					<li>Text inputs <em>(textarea, text)</em></li>
					<li>Checkbox inputs <em>(checkbox, fancy checkbox, switch)</em></li>
					<li>Option inputs <em>(radio, fancy radio, select)</em></li>
				</ul>
			</li>
			<li>
				<code>access</code> determines how (in)visible the input is in <code>Manage</code> mode: 
				<ul>
					<li><code>Normal</code> is default</li>
					<li><code>Locked</code> shows the input for display, but editing is diasbaled, <br>ideal for eg, fixed passwords or tracking codes.</li>
					<li><code>Invisible</code> hides the input from <code>Manage</code> mode, <br>ideal for meta properties, eg. plugin/theme versions or paths, CSS killswitch. </li>
				</ul>
			</li>
			<li><code>options</code> is only present if the input is of type select, radio or fancy radio, and holds the options for the input.</li>
		</ul>
		<p>Note: changing an input's type will reset its value, but changing to another subtype on the same type will not. Eg, changing from radio to fancy radio, the value will be preserved, but not from radio to checkbox.</p>
		<p>Below is a preview of what the 8 input types look like in <kbd>Manage</kbd> mode.</p>
			<p><strong>Text</strong><img src="assets/img/text-input.png" style="float:right;"></p>
			<p><strong>Textarea</strong><img src="assets/img/textarea-input.png" style="float:right;"></p>
			<p><strong>Checkbox</strong><img src="assets/img/text-input.png" style="float:right;"></p>
			<p><strong>Radio</strong><img src="assets/img/radio-input.png" style="float:right;"></p>
			<p><strong>Select</strong><img src="assets/img/select-input.png" style="float:right;"></p>
			<p><strong>Fancy checkbox</strong><img src="assets/img/fancy-checkbox-input.png" style="float:right;"></p>
			<p><strong>Fancy radio</strong><img src="assets/img/fancy-radio-input.png" style="float:right;"></p>
			<p><strong>Switch</strong><img src="assets/img/switch-input.png" style="float:right;"></p>
	</section>
	<section>
		<h3 id="outputting-settings">Outputting settings</h3>
		<p>To get a setting in a page (in the WYSIWYG editor), simply type <code>(% setting: tab/setting %)</code>.<br>To get a setting in themes and components, type <code>&lt;?php get_setting('tab/setting') ?&gt;</code>.<br>To process the return value before outputting it, type <code>&lt;?php return_setting('tab/setting') ?&gt;</code>. The easiest way to get this code, is to copy to select and copy paste the code field next to the input (the WYSIWYG code is visible in <kbd>Manage</kbd> mode, the PHP code in <kbd>Edit</kbd> mode.) Beneath is a listing of the return values for each type of input (the 'fancy' versions as well as <code>switch</code> simply make use of font icons instead of standard inputs):</p>
		<table>
			<tbody><tr>
				<td><strong>Input types</strong></td>
				<td><strong>With <code>get_setting</code></strong></td>
				<td><strong>With <code>return_setting</code></strong></td>
			</tr>
			<tr>
				<td><code>text</code></td>
				<td>Returns the text content from the field</td>
				<td>Returns the text content from the field</td>
			</tr>
			<tr>
				<td><code>textarea</code></td>
				<td>Returns the text content from the field</td>
				<td>Returns the text content from the field</td>
			</tr>
			<tr>
				<td><code>checkbox</code></td>
				<td>Returns <code>'on'</code> (checked) or <code>'off'</code> (unchecked)</td>
				<td>Returns <code>TRUE</code> (checked) or <code>FALSE</code> (unchecked)</td>
			</tr>
			<tr>
				<td><code>radio</code></td>
				<td>Returns the <i>selected</i> option's text value.</td>
				<td>Returns the <i>selected</i> option's zero-based index.</td>
			</tr>
			<tr>
				<td><code>select</code></td>
				<td>Returns the <i>selected</i> option's text value.</td>
				<td>Returns the <i>selected</i> option's zero-based index.</td>
			</tr>
			<tr>
				<td><code>switch</code></td>
				<td>Returns <code>'on'</code> (checked) or <code>'off'</code> (unchecked)</td>
				<td>Returns <code>TRUE</code> (checked) or <code>FALSE</code> (unchecked)</td>
			</tr>
			<tr>
				<td><code>fancy checkbox</code></td>
				<td>Returns <code>'on'</code> (checked) or <code>'off'</code> (unchecked)</td>
				<td>Returns <code>TRUE</code> (checked) or <code>FALSE</code> (unchecked)</td>
			</tr>
			<tr>
				<td><code>fancy radio</code></td>
				<td>Returns the <i>selected</i> option's text value.</td>
				<td>Returns the <i>selected</i> option's zero-based index.</td>
			</tr>
		</tbody></table>
	</section>
</section>
<section>
	<header>
	<br><br>
		<h2 id="for-webmasters-site-managers">For webmasters/site managers</h2>
	</header>
	<section>
		<h3 id="importing-settings">Importing settings</h3>
		<p>You can <strong>import</strong> settings by clicking the <code>import</code> button (in v0.2, will not work if your browser is IE9 or below). Make sure your file is valid JSON and your filename contains the string <code>theme_data</code> (for theme settings), <code>plugin_data</code> (for plugin settings) or <code>tabname_data</code> (for separate site tabs). For importing multiple site tabs, your file should be named <code>data.json</code>. Importing settings will: overwrite settings that already exist, and add new settings if they don't. Importing settings does not replace an entire tab or remove settings not present in the import. If you prefer you can also manually import settings by copying previously exported settings files to <code>/data/other/custom_settings</code>.</p>
	</section>
	<section>
		<h3 id="exporting-settings">Exporting settings</h3>
		<p>You can <strong>export</strong> settings simply by clicking the <code>export</code> button. You can export 1) all site settings by choosing 'Site Settings', 2) a separate site tab (by name), 3) a separate plugin tab (by name), and 4) the theme settings of the currently selected theme by choosing 'Theme Settings'. You can also manually backup all settings by making a copy of <code>/data/other/custom_settings</code>.</p>
	</section>
	<section>
		<h3 id="restricting-editing-permission">Restricting editing permission</h3>
		<p>Go to <code>root/data/users/</code> and edit the XML file for the user you want to restrict editing permissions for. Simply add an XML node <code>&lt;KO_EDIT&gt;FALSE&lt;/KO_EDIT&gt;</code> and you're done. <code>TRUE</code> also works (to allow editing) but this is the default, so it doesn't really matter. In one of the next updates, this will be included in the plugin UI.</p>
	</section>
</section>
<section>
	<header>
		<h2 id="for-theme-developers">For theme developers</h2>
	</header>
	<p>GS Custom Settings allows you to build custom settings for your theme through an easy UI, <br>and they can even be multilingual! No need for building a custom plugin like the <code>InnovationPlugin</code>. After you have downloaded Custom Settings, and installed it on your local/ test site (just like other GS plugins), go to <strong>Site</strong> tab, switch to <strong>Edit</strong> mode, create a new tab (name it however you like), add all the settings you need, and in the list toolbar, in the select next to <code>Export tab as:</code>, choose <code>Theme</code>. </p>
	<p>If for some reason the file isn't automatically named <code>settings.json</code>, rename it to that.</p>
	<p>The descriptions/ labels/ values exported will be used as default values in the default language. If you want, you can add more languages by creating a subdirectory in your theme named <code>lang</code>.      
	</p>
	<p>For example a simple GS theme with trilingual custom settings would have a directory like this: </p>
	<div class="highlight"><pre><code>Theme root
  ├─ assets/
  ├─ images/
  ├─ style.css
  ├─ template.php
  ├─ functions.php
  <span style="color: #C24145">├─ settings.json </span>(with en_US as standard)
  <span style="color: #C24145">└─ lang/</span> (optional)
     <span style="color: #C24145">├─ fr_FR.json</span>
     <span style="color: #C24145">└─ de_DE.json</span></code></pre></div>
	<p>The only translatable strings are a setting's <code>label</code>,<code>descr</code> and <code>options</code> (if the setting is a <code>select</code>, <code>radio</code> or <code>fancy radio</code>). For each of these, you should prefix the property with the setting's <code>lookup</code>. The language files in the <code>lang</code> directory should have a <code>strings</code> object holding all strings for the settings. You can optionally add a <code>meta</code> object containing information about the translation version, author, date etc.</p>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="s2">&quot;me&quot;</span><span class="p">},</span> <span class="err">/*</span> <span class="err">meta</span> <span class="err">is</span> <span class="err">optional</span> <span class="err">*/</span>
  <span class="nt">&quot;strings&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;mysetting_label&quot;</span><span class="p">:</span> <span class="s2">&quot;Label&quot;</span><span class="p">,</span>
     <span class="nt">&quot;mysetting_descr&quot;</span><span class="p">:</span> <span class="s2">&quot;Description&quot;</span><span class="p">,</span>
     <span class="nt">&quot;mysetting_options&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;option1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option3&quot;</span>
     <span class="p">],</span>
     <span class="nt">&quot;mysecondsetting_label&quot;</span><span class="p">:</span> <span class="s2">&quot;Label 2&quot;</span><span class="p">,</span>
     <span class="nt">&quot;mysecondsetting_descr&quot;</span><span class="p">:</span> <span class="s2">&quot;Description 2&quot;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

	<p>You're set! When your theme is activated in the GS <code>theme</code> tab, your settings will appear in the Custom Settings sidebar in the tab <code>Theme settings</code> (GS tab <code>Site</code>). The data is saved to <code>/data/other/custom_settings/theme_data_&lt;themename&gt;.json</code>.</p>
</section>
<section>
	<header>
		<h2 id="for-plugin-developers">For plugin developers</h2>
	</header>
	<p>GS Custom settings provides a sleek GUI for building and (later) updating, or managing (by third parties) your plugin's settings. In your plugin's directory (create one if you didn't have one already, and give it the same name as your plugin's ), you should have a valid <code>settings.json</code> file, create a <code>lang</code> subdirectory (if </p>
	<ol>
	<li>Create a plugin directory with the same name as your plugin's main <code>.php</code> file if you haven't already.</li>
	<li>
	In this directory you should have a valid JSON settings file, named <code>settings.json</code>. You can build this either:
	<ol>
	<li><strong>Manually</strong>: If you choose this, make sure your file has the required format, and your JSON contains no errors. You can test this with <a href="http://jsonlint.com">JSONlint</a>.</li>
	<li><strong>Through the plugin's GUI</strong> (easiest):. To do so, install the plugin on your test site, go to <strong>Site</strong> tab, switch to <strong>Edit</strong> mode, create a new tab, give it your plugin's name, and add all the settings you need. When ready, in the toolbar's <code>Export tab as:</code> dropdown, choose <code>Plugin</code>. Save the file as <code>settings.json</code> in your plugin's directory.</li>
	</ol>
	</li>
	<li>If you want your plugin to be multilingual, create a <code>lang</code> subfolder in your plugin folder, and include all language files with PHP locale used by GetSimple (eg, <code>en_US, fr_FR, de_DE</code>).  Translatable setting properties are: <code>label, descr, options</code>. The format of the JSON file should be as in the sample language file in the Attachments section.</li>
	</ol>
	<p>Your plugin directory should look like this for GS Custom Settings to work:</p>
	<div class="highlight"><pre><code>/plugins/
  ├─ your_plugin.php
  └─ your_plugin/
       <span style="color: #C24145">├─ settings.json</span> (with default language)
       <span style="color: #C24145">└─ lang/</span> (optional)
           <span style="color: #C24145">├─ fr_FR.json</span>
           <span style="color: #C24145">└─ de_DE.json</span></code></pre></div>
  
	<p>The only translatable strings are a setting's <code>label</code>,<code>descr</code> and <code>options</code> (if the setting is a <code>select</code>, <code>radio</code> or <code>fancy radio</code>). For each of these, you should prefix the property with the setting's <code>lookup</code>. The language files in the <code>lang</code> directory should have a <code>strings</code> object holding all strings for the settings. You can optionally add a <code>meta</code> object containing information about the translation version, author, date etc.</p>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="s2">&quot;me&quot;</span><span class="p">},</span> <span class="err">/*</span> <span class="err">meta</span> <span class="err">is</span> <span class="err">optional</span> <span class="err">*/</span>
  <span class="nt">&quot;strings&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;mysetting_label&quot;</span><span class="p">:</span> <span class="s2">&quot;Label&quot;</span><span class="p">,</span>
     <span class="nt">&quot;mysetting_descr&quot;</span><span class="p">:</span> <span class="s2">&quot;Description&quot;</span><span class="p">,</span>
     <span class="nt">&quot;mysetting_options&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;option1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option3&quot;</span>
     <span class="p">],</span>
     <span class="nt">&quot;mysecondsetting_label&quot;</span><span class="p">:</span> <span class="s2">&quot;Label 2&quot;</span><span class="p">,</span>
     <span class="nt">&quot;mysecondsetting_descr&quot;</span><span class="p">:</span> <span class="s2">&quot;Description 2&quot;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

	<p>GS Custom Settings provides 2 hooks for your plugin's functions. To use them, do:</p>
	<ul>
	<li><code>add_action('custom-settings-init', 'myFunctionOnInit')</code> to act upon settings <em>after</em> they are globalized. (executes every time the plugin is loaded by GS)</li>
	<li><code>add_action('custom-settings-load', 'myFunctionOnLoad')</code> to act upon settings <em>before</em> they are loaded. (executes only when the Custom Settings 'Site' tab is opened).</li>
	</ul>
	<p>You can also output a link to your custom settings in your plugin tab by using <code>&lt;?php get_tab_link('myplugin','link title') ?&gt;</code>. When clicked, it will open the relevant item in the Custom settings sidebar.</p>
	<p>It should be noted that you don't need to manually add a hook to initialize your settings. As soon as <code>custom_settings.php</code> is included in the site, the <code>settings.json</code> file from your plugin's settings (if it is activated) will be automatically added to the custom settings UI. You should only use functions like <code>remove_setting</code> and <code>set_setting</code> to <em>update settings from an old to a newer version</em>. If so, be sure to include a hidden version setting to check.<br> Plugin data is saved to <code>/data/other/custom_settings/plugin_data_&lt;yourpluginname&gt;.json</code>.</p>
</section>
<section>
	<header>
		<h2 id="php-api">PHP API</h2>
	</header>
<h4 id="functions">Functions</h4>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">get_setting</span><span class="p">(</span><span class="nv">$tab</span><span class="p">,</span> <span class="nv">$setting</span><span class="p">)</span>
<span class="c1">// @param {string} $tab - lookup property of the tab to search in</span>
<span class="c1">// @param {string} $setting - lookup property of the setting to output</span></code></pre></div>

	<p>Outputs the setting's value for display. This differs by setting type. </p>
	<ul>
		<li>If the setting has options, the text from the selected option (in default language) will be displayed. </li>
		<li>If the setting is a checkbox/ switch/ fancy checkbox, <code>on</code> will be displayed if <code>true</code> and <code>off</code> if <code>false</code>.</li>
		<li>If the setting is text/ textarea, the <code>value</code> is returned as it was last saved.</li>
	</ul>
	<br>
	
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">return_setting</span><span class="p">(</span><span class="nv">$tab</span><span class="p">,</span><span class="nv">$setting</span><span class="p">,</span><span class="nv">$prop</span><span class="o">=</span><span class="k">NULL</span><span class="p">)</span>
<span class="c1">// @param {string} $tab - lookup property of the tab to search in</span>
<span class="c1">// @param {string} $setting - lookup property of the setting to return</span>
<span class="c1">// @param {string} [$prop=NULL] - (Optional) A single property of the setting to return</span></code></pre></div>

	<p>Returns the setting entirely as an array, or one property of it (if <code>$prop !== NULL</code>).</p>
	<p>When returning a setting's value:</p>
	<ul>
		<li>If the setting has options (eg <code>select/ radio</code>), the return is a zero-index based number (0 is the first option).</li>
		<li>If the setting is a <code>checkbox/ switch/ fancy checkbox</code>, the return is <code>true</code> or <code>false</code>.</li>
		<li>If the setting is text/ textarea, the <code>value</code> string is returned as it was last saved.</li>
	</ul>
	<br>
	
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">get_tab_link</span><span class="p">(</span><span class="nv">$tab</span><span class="o">=</span><span class="k">NULL</span><span class="p">,</span> <span class="nv">$linkText</span><span class="o">=</span><span class="s1">&#39;settings&#39;</span><span class="p">)</span>
<span class="c1">// @param {string} [$tab=NULL] - (Optional) Empty, lookup property of  </span>
<span class="c1">// lookup property of a plugin (basename) or &#39;theme_settings&#39;, or a site tab</span>
<span class="c1">// @param {string} [$linkText=&#39;settings&#39;] - (Optional) A custom text for the &amp;lt;a&amp;gt; element</span></code></pre></div>

	<p>Outputs a link to the settings from the active theme (with <code>$themeOrPlugin</code> set to <code>theme_settings</code>), to an activated plugin, a site tab, or just the GS Custom Settings tab (if <code>$themeOrPlugin</code> is <code>NULL</code>). You can also set a <code>$linkText</code> for custom link text (default is 'settings'). The link will activate the tab given as <code>$themeOrPlugin</code>: useful if you want to include a link to settings from your plugin's page especially.</p>
	<br>
	
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">set_setting</span><span class="p">(</span><span class="nv">$tab</span><span class="p">,</span> <span class="nv">$setting</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
<span class="c1">// @param {string} $tab - lookup property of the tab to search in</span>
<span class="c1">// @param {string} $setting - lookup property of the setting to return</span>
<span class="c1">// @param {string|array} $value - The property (ies) to modify.</span></code></pre></div>

<p>(<strong>Experimental</strong>) Sets a given setting's properties if an array is given as value, or changes the settings' value if <code>$value</code> is a string. Be careful when using this function, as the code will be executed over and over again, forcing properties set by the function to overwrite those set in the UI. Note that the function does not write to a file, but modifies/ adds to a global, and changes will only persist if the data is saved. You should normally only use this function conditionally (eg, if a version setting is not up to date)</p>
<br>
	
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">remove_setting</span><span class="p">(</span><span class="nv">$tab</span><span class="p">,</span> <span class="nv">$setting</span><span class="p">)</span>
<span class="c1">// @param {string} $tab - lookup property of the tab to search in</span>
<span class="c1">// @param {string} $setting - lookup property of the setting to remove</span></code></pre></div>

<p>(<strong>Experimental</strong>) Removes the given setting in the given tab. You should only use this function conditionally (eg, if a version setting is not up to date)</p>
	
<h4 id="hooks">Hooks</h4>
<p>v0.2 doesn't allow <em>updating</em> a plugin's settings yet (from old to new version). Future versions will include an automatic file update.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;custom-settings-init&#39;</span><span class="p">,</span> <span class="nv">$function</span><span class="p">)</span>
<span class="c1">// @param {string} $function - the function you want to execute right after settings are globalized.</span></code></pre></div>

<p>Hook that executes right after settings are globalized. Use it to act upon settings saved in the data files.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;custom-settings-load&#39;</span><span class="p">,</span> <span class="nv">$function</span><span class="p">)</span>
<span class="c1">// @param {string} $function - the function you want to execute before settings are loaded</span></code></pre></div>

<p>Hook that executes <em>before</em> settings are loaded into the UI. (called through the plugin UI on load). It's worth to point out that this function doesn't directly save settings to a file. It merely adds them to the plugin UI on load, and they will only be saved, if the user hits <kbd>Save updates</kbd>.</p>
<!--
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;custom-settings-save&#39;</span><span class="p">,</span> <span class="nv">$function</span><span class="p">)</span>
<span class="c1">// @param {string} $function - the function you want to execute after settings are saved</span></code></pre></div>
<p>Hook that executes <em>after</em> settings are saved.</p>-->
<br>
<br>
</section>
<section>  
	<header>
		<h2 id="plugin-info">Plugin info</h2>
	</header>
	<section>
		<h3 id="dependencies">Dependencies</h3>
		<p>GS Custom Settings includes:</p>
			<ul>
				<li><a href="http://jquery.com">jQuery (from GetSimple CMS)</a></li>
				<li><a href="http://knockoutjs.com">KnockoutJS 3.2.0</a></li>
				<li><a href="http://fortawesome.github.io/Font-Awesome/">FontAwesome 4.3.0 Iconfont</a></li>
			</ul>
	</section>
	<section>
		<h3 id="known-issues">Known issues</h3>
		<p>Find the list of currently known issues <a href="https://github.com/webketje/GS-Custom-Settings/issues">on Github</a></p>
		<pre style="white-space: pre-wrap; font-size: 14px;">﻿25/02/2015 - V. 0.2 public test

  - Settings import only works with IE10 &amp; up, provide fallback
  - When repeatedly batch editing settings, selection might bug or actions might not be executed on entire selection
  - Repeatedly importing settings for the same tab without reloading the page/ importing settings for another tab first doesn't work</pre>
	</section>
	<section>
		<h3 id="planned-features">Planned features</h3>
		<pre style="white-space: pre-wrap; font-size: 14px;">- Integration with Multi User plugin
- 'Section title' settings (delimiters of different sections of settings inside a tab)
- URL/ Image fields
- Version checking & setting updates for plugins
- Setting user permissions through the UI
- multilingual text/ textarea settings (mainly for output)
- Browser testing on Mozilla Firefox and IE (not done yet)
- Work away bugs in multiselect & keyboard shortcut features
- Ability to build plugin language files through the UI
- Add accesskeys & more keyboard shortcuts for saving, exporting etc.
- Add beforeUnload pagecheck to prevent unsaved edits loss
- Add ability to move settings from one tab to another
- Add automatic settings update when plugins are updated
- Add setting search
- Add custom settings for components</pre>
	</section>
	<section>
		<h3 id="changelog">Changelog</h3>
		<pre style="white-space: pre-wrap; font-size: 14px;">﻿30/03/2015 - V. 0.2

New:
  - Fully translatable, (almost) no hard-coded values anymore
  - Future Github repo at http://webketje.github.io/gs-custom-settings (issue tracking)
  - Complete UI overhaul, including:
    - tab/setting actions moved to one toolbar to unclutter the UI
    - opening a tab in edit mode is the same as in manage mode (used to be through icon)
    - Settings can now be batch selected/(re)moved/added
    - settings keyboard functionality (Ctrl, Shift for multiselect &amp; Delete)
  - Import &amp; export data directly from the UI as backup/ transfer to other site.
  - Export tab directly to JSON for plugin/theme dev with custom settings.
  - Enhanced, translatable notification manager
  - Theme developers can now register their custom settings, i18n-enabled.
  - Plugin developers can now register their custom settings, i18n-enabled.
  - Added security token check to AJAX filehandler.
  - Added PHP API with variable caching for better performance 
  - Permissions can be restricted per user by adding a <ko_edit>false</ko_edit> node to the user.xml
  - Added languages French, Dutch.
Changed:
  - Removed the ability to view all tabs in one (performance)
  - Plugin folder ko_base deleted, all contents moved into one folder
  - Renamed plugin more appropriately to 'Custom settings' as the focus and intent shifted away from original design.
  - Added readme.md to ZIP package with some basic instructions
  - Setting lookups 'tokens' must now be set manually
  - Settings in the plugin's PHP functions must now be retrieved with function($tab, $setting) instead of 'tab/setting'
Bugfixes:
  - Fixed array dereferencing issues. Plugin should now be compatible with PHP 5.2+
  - Fixed .htaccess for settings data. No longer accessible through browser/ HTTP requests (safer)
  - Fixed 'switch' input saving empty options array
  - Fixed moving a tab up or down causing settings' tab field to be changed
  - Fixed plugin not loading default language in case language file is missing
  - Clicking labels now automatically moves focus to the relevant inputs
  - JSON data is now formatted properly when saved, both through Javascript and PHP
  - Buttons in sidebar now properly disabled when unusable
  
18/02/2014 - V. 0.1 (Alpha)

Initial launch
</pre>
	</section>
	<footer>
	<hr>
		<p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0; float: left; margin-right: 5px;" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
		<span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">GS Custom Settings</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/webketje/GS-Custom-Settings" property="cc:attributionName" rel="cc:attributionURL">Kevin Van Lierde</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. Built for<a xmlns:dct="http://purl.org/dc/terms/" href="http://get-simple.info" rel="dct:source">http://get-simple.info</a>.
	</p></footer>
</section>
<script>
  $(document).ready(function(){
    $("#toc-sidebar").sticky({topSpacing:0, className: 'sticky'});
  });
	if (location.href.match(/id=.*/))
		document.getElementById(location.href.match(/id=.*/)[0].slice(3)) ? document.getElementById(location.href.match(/id=.*/)[0].slice(3)).scrollIntoView() : null;
</script>
					</div>
				
				
			</div>
			
				<aside>
	
	
	
		<section id="toc-sidebar">
			
				<strong>Table of Contents</strong>

<ul>

	<li>
		<a href="#introduction">Introduction</a>
		
	</li>

	<li>
		<a href="#features">Features</a>
		
	</li>

	<li>
		<a href="#download-install-upgrade">Download, install, upgrade</a>
		
	</li>

	<li>
		<a href="#user-guide">User guide</a>
		
		
		<ul>
			<li>
				<a href="#advised-use">Advised use</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#switching-between-modes">Switching between modes</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#editing-tabs">Editing tabs</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#editing-settings">Editing settings</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#editing-setting-properties">Editing setting properties</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#outputting-settings">Outputting settings</a>
			</li>
		</ul>
		
		
	</li>

	<li>
		<a href="#for-webmasters-site-managers">For webmasters/ site managers</a>
		
		
		<ul>
			<li>
				<a href="#importing-settings">Importing settings</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#exporting-settings">Exporting settings</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#restricting-editing-permission">Restricting editing permission</a>
			</li>
		</ul>
		
		
	</li>

	<li>
		<a href="#for-theme-developers">For theme developers</a>
		
	</li>

	<li>
		<a href="#for-plugin-developers">For plugin developers</a>
		
	</li>

	<li>
		<a href="#php-api">PHP API</a>
		
		
		<ul>
			<li>
				<a href="#functions">Functions</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#hooks">Hooks</a>
			</li>
		</ul>
		
		
	</li>

	<li>
		<a href="#plugin-info">Plugin info</a>
		
		
		<ul>
			<li>
				<a href="#dependencies">Dependencies</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#known-issues">Known Issues</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#planned-features">Planned features</a>
			</li>
		</ul>
		
		<ul>
			<li>
				<a href="#changelog">Changelog</a>
			</li>
		</ul>
		
		
	</li>

</ul>
			
		</section>
	
	
</aside>
			
		</div>
		
			<footer id="site-footer">
				<small>Copyright 2015, Kevin Van Lierde. All Rights Reserved, content licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons</a> </small>
			</footer>
		</div>
	</div>
		<!-- Google Analytics -->
		<script type="text/javascript">
			
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'ID', 'tumblr.com');
			ga('send', 'pageview');

			var months = document.getElementsByClassName('post-month');
			if (months) {
				for (var i = 0; i < months.length; i++) {
					if (months[i].innerHTML.length > 5) {
						months[i].innerHTML = months[i].innerHTML.slice(0,3) + '.';
					}
				}
			}
		</script>
	</body>
</html>
	</body>
</html>